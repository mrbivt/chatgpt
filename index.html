<div style="max-width: 500px; margin: auto; font-family: sans-serif;">
  <h2>ü§ñ ChatGPT GPT-4o Bot</h2>
  <div id="chat" style="height: 300px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;"></div>
  <input id="input" type="text" placeholder="Nh·∫≠p c√¢u h·ªèi..." style="width: 100%; padding: 8px;" />
  <button onclick="sendMessage()" style="width: 100%; padding: 10px; margin-top: 5px;">G·ª≠i</button>
</div>

<script>
  const chatDiv = document.getElementById("chat");

  async function sendMessage() {
    const input = document.getElementById("input");
    const userMessage = input.value.trim();
    if (!userMessage) return;

    chatDiv.innerHTML += `<p><strong>B·∫°n:</strong> ${userMessage}</p>`;
    chatDiv.scrollTop = chatDiv.scrollHeight;
    input.value = "";

    try {
      const res = await fetch("https://api.openai.com/v1/chat/completions", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": "Bearer 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" // üîÅ THAY b·∫±ng API key c·ªßa b·∫°n
        },
        body: JSON.stringify({
          model: "gpt-4o",
          messages: [{ role: "user", content: userMessage }]
        })
      });

      const data = await res.json();

      if (!res.ok) {
        console.error("L·ªói API:", data);
        chatDiv.innerHTML += `<p><strong>Bot:</strong> ‚ùå L·ªói: ${data.error?.message || "Kh√¥ng r√µ nguy√™n nh√¢n."}</p>`;
        return;
      }

      const reply = data.choices?.[0]?.message?.content || "‚ùå Bot kh√¥ng c√≥ ph·∫£n h·ªìi.";
      chatDiv.innerHTML += `<p><strong>Bot:</strong> ${reply}</p>`;
      chatDiv.scrollTop = chatDiv.scrollHeight;
    } catch (err) {
      console.error("L·ªói khi g·ªçi API:", err);
      chatDiv.innerHTML += `<p><strong>Bot:</strong> ‚ùå ƒê√£ x·∫£y ra l·ªói khi g·ª≠i y√™u c·∫ßu.</p>`;
    }
  }
</script>
